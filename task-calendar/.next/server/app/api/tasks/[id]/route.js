"use strict";(()=>{var e={};e.id=974,e.ids=[974],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9931:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>j,patchFetch:()=>w,requestAsyncStorage:()=>k,routeModule:()=>h,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{DELETE:()=>p,GET:()=>d,PATCH:()=>l,PUT:()=>c});var a=r(3277),n=r(5265),o=r(5356),i=r(7076),u=r(9136);async function d(e,{params:t}){try{let e=await u._.task.findUnique({where:{id:t.id},include:{child:!0,recurrenceTemplate:!0}});if(!e)return i.NextResponse.json({error:"Task not found"},{status:404});return i.NextResponse.json(e)}catch(e){return console.error("Error fetching task:",e),i.NextResponse.json({error:"Failed to fetch task"},{status:500})}}async function c(e,{params:t}){try{let{title:r,description:s,dueDate:a,childId:n,recurrenceTemplateId:o}=await e.json(),d=await u._.task.update({where:{id:t.id},data:{...r&&{title:r},...void 0!==s&&{description:s||null},...a&&{dueDate:new Date(a)},...n&&{childId:n},...void 0!==o&&{recurrenceTemplateId:o||null}},include:{child:!0,recurrenceTemplate:!0}});return i.NextResponse.json(d)}catch(e){return console.error("Error updating task:",e),i.NextResponse.json({error:"Failed to update task"},{status:500})}}async function l(e,{params:t}){try{let{completed:r}=await e.json(),s=await u._.task.update({where:{id:t.id},data:{completed:!0===r,completedAt:!0===r?new Date:null},include:{child:!0,recurrenceTemplate:!0}});return i.NextResponse.json(s)}catch(e){return console.error("Error updating task:",e),i.NextResponse.json({error:"Failed to update task"},{status:500})}}async function p(e,{params:t}){try{return await u._.task.delete({where:{id:t.id}}),i.NextResponse.json({message:"Task deleted successfully"})}catch(e){return console.error("Error deleting task:",e),i.NextResponse.json({error:"Failed to delete task"},{status:500})}}let h=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/tasks/[id]/route",pathname:"/api/tasks/[id]",filename:"route",bundlePath:"app/api/tasks/[id]/route"},resolvedPagePath:"/Users/john/chore_tracking/task-calendar/app/api/tasks/[id]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:k,staticGenerationAsyncStorage:m,serverHooks:x}=h,j="/api/tasks/[id]/route";function w(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}},9136:(e,t,r)=>{r.d(t,{_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma??new s.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[942,786],()=>r(9931));module.exports=s})();