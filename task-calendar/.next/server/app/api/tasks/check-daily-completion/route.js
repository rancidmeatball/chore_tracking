"use strict";(()=>{var e={};e.id=648,e.ids=[648],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3649:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>b,patchFetch:()=>k,requestAsyncStorage:()=>f,routeModule:()=>y,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var o={};r.r(o),r.d(o,{GET:()=>m,dynamic:()=>d});var n=r(3277),a=r(5265),s=r(5356),i=r(7076),c=r(9136);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function p(e){l(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===u(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}let d="force-dynamic";async function m(e){try{let{searchParams:t}=new URL(e.url),r=t.get("date"),o=r?new Date(r):new Date,n=function(e){l(1,arguments);var t=p(e);return t.setHours(0,0,0,0),t}(o),a=function(e){l(1,arguments);var t=p(e);return t.setHours(23,59,59,999),t}(o),s=await c._.task.findMany({where:{dueDate:{gte:n,lte:a}}}),u=s.length,d=s.filter(e=>e.completed).length;return i.NextResponse.json({date:o.toISOString(),totalTasks:u,completedTasks:d,allComplete:u>0&&d===u})}catch(e){return console.error("Error checking daily completion:",e),i.NextResponse.json({error:"Failed to check daily completion"},{status:500})}}let y=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/tasks/check-daily-completion/route",pathname:"/api/tasks/check-daily-completion",filename:"route",bundlePath:"app/api/tasks/check-daily-completion/route"},resolvedPagePath:"/Users/john/chore_tracking/task-calendar/app/api/tasks/check-daily-completion/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:f,staticGenerationAsyncStorage:g,serverHooks:h}=y,b="/api/tasks/check-daily-completion/route";function k(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},9136:(e,t,r)=>{r.d(t,{_:()=>a});let o=require("@prisma/client"),n=globalThis,a=n.prisma??new o.PrismaClient({log:["error"]});n.prisma=a}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[942,786],()=>r(3649));module.exports=o})();